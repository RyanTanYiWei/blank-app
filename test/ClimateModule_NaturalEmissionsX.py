"""
Python model 'ClimateModule_NaturalEmissionsX.py'
Translated using PySD
"""

from pathlib import Path
import numpy as np

from pysd.py_backend.functions import if_then_else, ramp
from pysd.py_backend.statefuls import Initial, Integ, Smooth
from pysd.py_backend.lookups import HardcodedLookups
from pysd.py_backend.utils import load_model_data, load_modules
from pysd import Component

__pysd_version__ = "3.14.3"

__data = {"scope": None, "time": lambda: 0}

_root = Path(__file__).parent

_subscript_dict, _modules = load_model_data(_root, "ClimateModule_NaturalEmissionsX")

component = Component()

#######################################################################
#                          CONTROL VARIABLES                          #
#######################################################################

_control_vars = {
    "initial_time": lambda: 1900,
    "final_time": lambda: 2100,
    "time_step": lambda: 0.125,
    "saveper": lambda: 1,
}


def _init_outer_references(data):
    for key in data:
        __data[key] = data[key]


@component.add(name="Time")
def time():
    """
    Current time of the model.
    """
    return __data["time"]()


@component.add(
    name="FINAL TIME", units="Year", comp_type="Constant", comp_subtype="Normal"
)
def final_time():
    """
    The final time for the simulation.
    """
    return __data["time"].final_time()


@component.add(
    name="INITIAL TIME", units="Year", comp_type="Constant", comp_subtype="Normal"
)
def initial_time():
    """
    The initial time for the simulation.
    """
    return __data["time"].initial_time()


@component.add(
    name="SAVEPER",
    units="Year",
    limits=(0.0, np.nan),
    comp_type="Constant",
    comp_subtype="Normal",
)
def saveper():
    """
    The frequency with which output is stored.
    """
    return __data["time"].saveper()


@component.add(
    name="TIME STEP",
    units="Year",
    limits=(0.0, np.nan),
    comp_type="Constant",
    comp_subtype="Normal",
)
def time_step():
    """
    The time step for the simulation.
    """
    return __data["time"].time_step()


#######################################################################
#                           MODEL VARIABLES                           #
#######################################################################

# load modules from modules_ClimateModule_NaturalEmissionsX directory
exec(load_modules("modules_ClimateModule_NaturalEmissionsX", _modules, _root, []))


@component.add(
    name="Climate Action Year",
    units="Year",
    comp_type="Constant",
    comp_subtype="Normal",
)
def climate_action_year():
    return 2020


@component.add(
    name="Climate Policy Scenario",
    units="Dmnl",
    comp_type="Constant",
    comp_subtype="Normal",
)
def climate_policy_scenario():
    """
    0: No climate policy 1: Climate policy
    """
    return 0


@component.add(
    name="Current year", units="Year", comp_type="Constant", comp_subtype="Normal"
)
def current_year():
    return 2023


@component.add(
    name="Total CH4 Emissions",
    units="MTonCH4/Year",
    comp_type="Auxiliary",
    comp_subtype="with Lookup",
    depends_on={"time": 1},
)
def total_ch4_emissions():
    """
    in MT CH4
    """
    return np.interp(
        time(),
        [
            1900.0,
            1901.0,
            1902.0,
            1903.0,
            1904.0,
            1905.0,
            1906.0,
            1907.0,
            1908.0,
            1909.0,
            1910.0,
            1911.0,
            1912.0,
            1913.0,
            1914.0,
            1915.0,
            1916.0,
            1917.0,
            1918.0,
            1919.0,
            1920.0,
            1921.0,
            1922.0,
            1923.0,
            1924.0,
            1925.0,
            1926.0,
            1927.0,
            1928.0,
            1929.0,
            1930.0,
            1931.0,
            1932.0,
            1933.0,
            1934.0,
            1935.0,
            1936.0,
            1937.0,
            1938.0,
            1939.0,
            1940.0,
            1941.0,
            1942.0,
            1943.0,
            1944.0,
            1945.0,
            1946.0,
            1947.0,
            1948.0,
            1949.0,
            1950.0,
            1951.0,
            1952.0,
            1953.0,
            1954.0,
            1955.0,
            1956.0,
            1957.0,
            1958.0,
            1959.0,
            1960.0,
            1961.0,
            1962.0,
            1963.0,
            1964.0,
            1965.0,
            1966.0,
            1967.0,
            1968.0,
            1969.0,
            1970.0,
            1971.0,
            1972.0,
            1973.0,
            1974.0,
            1975.0,
            1976.0,
            1977.0,
            1978.0,
            1979.0,
            1980.0,
            1981.0,
            1982.0,
            1983.0,
            1984.0,
            1985.0,
            1986.0,
            1987.0,
            1988.0,
            1989.0,
            1990.0,
            1991.0,
            1992.0,
            1993.0,
            1994.0,
            1995.0,
            1996.0,
            1997.0,
            1998.0,
            1999.0,
            2000.0,
            2001.0,
            2002.0,
            2003.0,
            2004.0,
            2005.0,
            2006.0,
            2007.0,
            2008.0,
            2009.0,
            2010.0,
            2011.0,
            2012.0,
            2013.0,
            2014.0,
            2100.0,
        ],
        [
            87.6133,
            88.3912,
            89.2628,
            89.8907,
            91.3568,
            92.4013,
            93.25,
            94.5608,
            95.7124,
            96.4667,
            97.7719,
            98.4294,
            99.2661,
            100.613,
            102.284,
            103.058,
            104.089,
            105.44,
            106.746,
            108.095,
            109.134,
            109.809,
            110.486,
            112.254,
            112.634,
            113.67,
            114.546,
            115.747,
            116.796,
            118.02,
            119.67,
            119.908,
            121.422,
            122.344,
            123.953,
            124.895,
            126.465,
            127.182,
            127.905,
            129.501,
            130.135,
            132.218,
            134.706,
            136.63,
            138.931,
            141.023,
            142.706,
            144.794,
            147.272,
            150.216,
            152.201,
            155.272,
            160.573,
            165.682,
            170.371,
            174.74,
            180.671,
            186.056,
            188.386,
            192.687,
            197.261,
            205.138,
            207.212,
            216.192,
            216.556,
            222.666,
            226.311,
            232.333,
            235.335,
            239.185,
            244.418,
            249.29,
            257.21,
            260.295,
            261.808,
            263.059,
            269.948,
            274.03,
            276.333,
            281.6,
            283.346,
            279.789,
            287.669,
            281.618,
            285.003,
            285.675,
            290.808,
            295.049,
            298.685,
            302.164,
            305.273,
            318.731,
            299.402,
            299.443,
            310.252,
            305.41,
            307.291,
            331.289,
            315.333,
            309.408,
            310.187,
            312.896,
            322.279,
            328.124,
            338.942,
            346.396,
            356.47,
            355.023,
            360.492,
            364.2,
            370.896,
            372.658,
            380.81,
            381.594,
            387.874,
            387.874,
        ],
    )


@component.add(
    name="Total N2O Emissions",
    units="KTonN2O/Year",
    comp_type="Auxiliary",
    comp_subtype="with Lookup",
    depends_on={"time": 1},
)
def total_n2o_emissions():
    """
    ([(0,0)-(10,10)],(1900,1356.16),(1901,1369.1),(1902,1384.52),(1903,1399.36) ,(1904,1415.6),(1905,1432.56),(1906,1449.95),(1907,1466.75),(1908,1483.12), (1909,1499.1),(1910,1515.94),(1911,1533.71),(1912,1559.23),(1913,1589.12),( 1914,1621.62),(1915,1656.96),(1916,1693.36),(1917,1728.66),(1918,1761.61),( 1919,1791.47),(1920,1818.81),(1921,1843.61),(1922,1867.74),(1923,1893.42),( 1924,1920.28),(1925,1944.75),(1926,1968.03),(1927,1990.27),(1928,2010.73),( 1929,2028.07),(1930,2043.07),(1931,2053.98),(1932,2064.65),(1933,2073.56),( 1934,2083.43),(1935,2093.47),(1936,2103.27),(1937,2115.58),(1938,2129.1),(1 939,2147.48),(1940,2167.53),(1941,2242.12),(1942,2403.56),(1943,2636.05),(1 944,2912.5),(1945,3215.87),(1946,3522.87),(1947,3815.76),(1948,4068.7),(194 9,4264.1),(1950,4378.5),(1951,4447.58),(1952,4514.63),(1953,4585.34),(1954, 4658.92),(1955,4738.57),(1956,4819.78),(1957,4906.31),(1958,5002.82),(1959, 5106.72),(1960,5222.37),(1961,5570.29),(1962,5779.89),(1963,5976.28),(1964, 6199.34),(1965,6465.56),(1966,6773.51),(1967,7041.51),(1968,7256.01),(1969, 7435.62),(1970,7406.67),(1971,7327.06),(1972,7746.9),(1973,7935.57),(1974,7 909.79),(1975,8180.65),(1976,8409.33),(1977,8640.44),(1978,8837.87),(1979,9 123.76),(1980,9227.26),(1981,9121.12),(1982,9494.52),(1983,9530.29),(1984,9 421.16),(1985,9421.44),(1986,9620.41),(1987,9977.12),(1988,9722.72),(1989,9 842.47),(1990,9862.3),(1991,9968.82),(1992,9990.08),(1993,9915.09),(1994,10 121),(1995,10218.8),(1996,10278.8),(1997,10590.2),(1998,10128.4),(1999,9868 .59),(2000,9603.19),(2001,9722.25),(2002,9991.77),(2003,10099.8),(2004,1035 4.6),(2005,10516.6),(2006,10802.6),(2007,10363.5),(2008,10429.7),(2009,1054 6.7),(2010,10539.8),(2011,10446.4),(2012,10593.9),(2013,10759),(2014,10866. 3),(2100,10866.3) )
    """
    return np.interp(
        time(),
        [
            1900.0,
            1901.0,
            1902.0,
            1903.0,
            1904.0,
            1905.0,
            1906.0,
            1907.0,
            1908.0,
            1909.0,
            1910.0,
            1911.0,
            1912.0,
            1913.0,
            1914.0,
            1915.0,
            1916.0,
            1917.0,
            1918.0,
            1919.0,
            1920.0,
            1921.0,
            1922.0,
            1923.0,
            1924.0,
            1925.0,
            1926.0,
            1927.0,
            1928.0,
            1929.0,
            1930.0,
            1931.0,
            1932.0,
            1933.0,
            1934.0,
            1935.0,
            1936.0,
            1937.0,
            1938.0,
            1939.0,
            1940.0,
            1941.0,
            1942.0,
            1943.0,
            1944.0,
            1945.0,
            1946.0,
            1947.0,
            1948.0,
            1949.0,
            1950.0,
            1951.0,
            1952.0,
            1953.0,
            1954.0,
            1955.0,
            1956.0,
            1957.0,
            1958.0,
            1959.0,
            1960.0,
            1961.0,
            1962.0,
            1963.0,
            1964.0,
            1965.0,
            1966.0,
            1967.0,
            1968.0,
            1969.0,
            1970.0,
            1971.0,
            1972.0,
            1973.0,
            1974.0,
            1975.0,
            1976.0,
            1977.0,
            1978.0,
            1979.0,
            1980.0,
            1981.0,
            1982.0,
            1983.0,
            1984.0,
            1985.0,
            1986.0,
            1987.0,
            1988.0,
            1989.0,
            1990.0,
            1991.0,
            1992.0,
            1993.0,
            1994.0,
            1995.0,
            1996.0,
            1997.0,
            1998.0,
            1999.0,
            2000.0,
            2001.0,
            2002.0,
            2003.0,
            2004.0,
            2005.0,
            2006.0,
            2007.0,
            2008.0,
            2009.0,
            2010.0,
            2011.0,
            2012.0,
            2013.0,
            2014.0,
            2015.0,
            2020.0,
            2030.0,
            2040.0,
            2050.0,
            2060.0,
            2070.0,
            2080.0,
            2090.0,
            2100.0,
        ],
        [
            1356.16,
            1369.1,
            1384.52,
            1399.36,
            1415.6,
            1432.56,
            1449.95,
            1466.75,
            1483.12,
            1499.1,
            1515.94,
            1533.71,
            1559.23,
            1589.12,
            1621.62,
            1656.96,
            1693.36,
            1728.66,
            1761.61,
            1791.47,
            1818.81,
            1843.61,
            1867.74,
            1893.42,
            1920.28,
            1944.75,
            1968.03,
            1990.27,
            2010.73,
            2028.07,
            2043.07,
            2053.98,
            2064.65,
            2073.56,
            2083.43,
            2093.47,
            2103.27,
            2115.58,
            2129.1,
            2147.48,
            2167.53,
            2242.12,
            2403.56,
            2636.05,
            2912.5,
            3215.87,
            3522.87,
            3815.76,
            4068.7,
            4264.1,
            4378.5,
            4447.58,
            4514.63,
            4585.34,
            4658.92,
            4738.57,
            4819.78,
            4906.31,
            5002.82,
            5106.72,
            5222.37,
            5570.29,
            5779.89,
            5976.28,
            6199.34,
            6465.56,
            6773.51,
            7041.51,
            7256.01,
            7435.62,
            7406.67,
            7327.06,
            7746.9,
            7935.57,
            7909.79,
            8180.65,
            8409.33,
            8640.44,
            8837.87,
            9123.76,
            9227.26,
            9121.12,
            9494.52,
            9530.29,
            9421.16,
            9421.44,
            9620.41,
            9977.12,
            9722.72,
            9842.47,
            9862.3,
            9968.82,
            9990.08,
            9915.09,
            10121.0,
            10218.8,
            10278.8,
            10590.2,
            10128.4,
            9868.59,
            9603.19,
            9722.25,
            9991.77,
            10099.8,
            10354.6,
            10516.6,
            10802.6,
            10363.5,
            10429.7,
            10546.7,
            10539.8,
            10446.4,
            10593.9,
            10759.0,
            10866.3,
            10900.0,
            11774.9,
            13291.8,
            14526.6,
            15634.9,
            16638.0,
            17624.3,
            18581.1,
            19626.8,
            20654.1,
        ],
    )
